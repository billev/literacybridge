<?xml version="1.0" encoding="utf-8"?>
<Device xmlns="http://www.talkingbook.org/2008/book" Name="Device">
    
    <!-- Default Device Actions -->
    <OnButton Button="PlayPause" Action="Release">
        <ActionSet>
            <FlagTest Flag="#isPlaying" Test="IsTrue"/>
            <SetLight Light="Green" Mode="Off"/>
            <Pause/>
        </ActionSet>
        <ActionSet>
            <SetLight Light="Green" Mode="On"/>
            <Play/>
        </ActionSet>
    </OnButton>
    <OnButton Button="Right" Action="Release">
        <ActionSet>
            <Goto>
                <Location Offset ="5000"/>
            </Goto>
        </ActionSet>
    </OnButton>
    <OnButton Button="Left" Action="Release">
        <ActionSet>
            <Goto>
                <Location Offset ="-5000"/>
            </Goto>
        </ActionSet>
    </OnButton>
    <OnButton Button="VolumeUp" Action="Press">
        <ActionSet>
            <SetVolume Level="10" Relative ="true"/>
        </ActionSet>
    </OnButton>
    <OnButton Button="VolumeDown" Action="Press">
        <ActionSet>
            <SetVolume Level="-10" Relative ="true"/>
        </ActionSet>
    </OnButton>
    <OnButton Button="Up" Action="Release">
        <ActionSet>
            <Goto>
                <Location Target="Previous"/>
            </Goto>
        </ActionSet>
    </OnButton>
    <OnButton Button="Down" Action="Release">
        <ActionSet>
            <Goto>
                <Location Target="Next"/>
            </Goto>
        </ActionSet>
    </OnButton>
    <OnFinish>
        <ActionSet>
            <Goto>
                <Location Target="Next"/>
            </Goto>
        </ActionSet>
    </OnFinish>
    
    <!-- Package Content -->
    <Package Name="System Package" ID="system">
        <OnButton Button="Home" Action="Release">
            <ActionSet>
                <Play/>  <!-- Play before the Goto if you want to be able to come out of Pause; otherwise, Play after Goto would have been fine.  At least one Play is necessary. -->
                <SetLight Light="Green" Mode="On"/>
                <Goto>
                    <Location Ref="system:"/>
                </Goto>
            </ActionSet>
        </OnButton>

        <OnButton Button="Select" Action="Release">  <!-- this seems to be the only way to get a hyperlink to work when paused at the end of a linked file -->
            <ActionSet>
                <PushStack>
                    <Location/>
                </PushStack>
                <Play/>
                <SetLight Light="Green" Mode="On"/>
                <Goto>
                    <Location Ref="system:/dagaare-poem-defn"/>
                </Goto>
            </ActionSet>
        </OnButton>
        

        <File ID="system1" Href="audio/system/welcome.mp3" Class="System"/>
        <File ID="system2" Href="audio/system/there-are.mp3" Class="System"/>
        <File ID="system3" Href="audio/system/seven.mp3" Class="System"/>
        <File ID="system4" Href="audio/system/recordings-on-tb.mp3" Class="System"/>
        <File ID="system5" Href="audio/system/here-is-list.mp3" Class="System"/>
        
        <File ID="dagaare-poem" Href="audio/dagaare-poem/title.mp3" Class="System">
            <OnButton Button="Select" Action="Release">
                <ActionSet>
                    <Goto>
                        <Location Ref="system:/dagaare-poem"/>
                    </Goto>
                </ActionSet>
            </OnButton>
        </File>
        
        <File ID="hiv-sdi" Href="audio/hiv-sdi/title.mp3" Class="System">
            <OnButton Button="Select" Action="Release">
                <ActionSet>
                    <Goto>
                        <Location Ref="system:/hiv-sdi"/>
                    </Goto>
                </ActionSet>
            </OnButton>
        </File>

        <File ID="malaria" Href="audio/malaria/title.mp3" Class="System">
            <OnButton Button="Select" Action="Release">
                <ActionSet>
                    <Goto>
                        <Location Ref="system:/malaria"/>
                    </Goto>
                </ActionSet>
            </OnButton>
        </File>
        
        <File ID="farming" Href="audio/farming/title.mp3" Class="System">
            <OnButton Button="Select" Action="Release">
                <ActionSet>
                    <Goto>
                        <Location Ref="system:/farming"/>
                    </Goto>
                </ActionSet>
            </OnButton>
        </File>
        
        <File ID="health-center-needs" Href="audio/health-center-needs/title.mp3" Class="System">
            <OnButton Button="Select" Action="Release">
                <ActionSet>
                    <Goto>
                        <Location Ref="system:/health-center-needs"/>
                    </Goto>
                </ActionSet>
            </OnButton>
        </File>

        <File ID="chapuri-story" Href="audio/chapuri-story/title.mp3" Class="System">
            <OnButton Button="Select" Action="Release">
                <ActionSet>
                    <Goto>
                        <Location Ref="system:/chapuri-story"/>
                    </Goto>
                </ActionSet>
            </OnButton>
        </File>

        <File ID="gender" Href="audio/gender/title.mp3" Class="System">
            <OnButton Button="Select" Action="Release">
                <ActionSet>
                    <Goto>
                        <Location Ref="system:/gender"/>
                    </Goto>
                </ActionSet>
            </OnButton>
            <OnFinish>
                <ActionSet>
                    <Pause/>
                    <SetLight Light="Green" Mode="Off"/>
                    <Goto>
                        <Location Target="Beginning"/>
                    </Goto>
                </ActionSet>
            </OnFinish>    
            <OnButton Button="Down" Action="Release">  <!-- this overrides the Package-level action to go forward one container, since these are temporarily all in one package -->
                <ActionSet>
                    <Goto>
                        <Location Target="End"/>
                    </Goto>
                </ActionSet>
            </OnButton>
        </File>

        <File ID="dagaare-poem" Href="audio/dagaare-poem/line1.mp3" Class="Content">
            <OnButton Button="Up" Action="Release">  <!-- this overrides the Package-level action to go back one container, since these are temporarily all in one package -->
                <ActionSet>
                    <Goto>
                        <Location Target="Beginning"/>
                    </Goto>
                </ActionSet>
            </OnButton>
            <OnFinish>
                <ActionSet>
                    <Pause/>
                    <SetLight Light="Green" Mode="Off"/>
                </ActionSet>
            </OnFinish>
        </File>
        
        <File ID="ping2" Href="audio/dagaare-poem/line2.mp3" Class="Content">
            <!--<OnButton Button="Select" Action="Release">
                <ActionSet>
                <PushStack>
                <Location/>
                </PushStack>
                <Goto>
                <Location Ref="system:/dagaare-poem-defn"/>
                </Goto>
                <Play/>
                <SetLight Light="Green" Mode="On"/>
                </ActionSet>
                </OnButton>-->
            <OnFinish>
                <ActionSet>
                    <Pause/>
                    <SetLight Light="Green" Mode="Off"/>
                </ActionSet>
            </OnFinish>
        </File>
        
        <File ID="ping3" Href="audio/dagaare-poem/line3.mp3" Class="System">
            <!--<OnButton Button="Select" Action="Release">
                <ActionSet>
                    <PushStack>
                        <Location/>
                    </PushStack>
                    <Goto>
                    <Location Ref="system:/dagaare-poem-defn"/>
                    </Goto>
                    <Play/>
                    <SetLight Light="Green" Mode="On"/>
                </ActionSet>
            </OnButton>-->
            <OnFinish>
                <ActionSet>
                    <Pause/>
                    <SetLight Light="Green" Mode="Off"/>
                </ActionSet>
            </OnFinish>
        </File>
        
        <File ID="ping4" Href="audio/dagaare-poem/line4.mp3" Class="System">
            <OnFinish>
                <ActionSet>
                    <Pause/>
                    <SetLight Light="Green" Mode="Off"/>
                </ActionSet>
            </OnFinish>
        </File>
        
        <File ID="ping5" Href="audio/dagaare-poem/line5.mp3" Class="System">
            <OnFinish>
                <ActionSet>
                    <Pause/>
                    <SetLight Light="Green" Mode="Off"/>
                </ActionSet>
            </OnFinish>
        </File>
        
        <File ID="ping6" Href="audio/dagaare-poem/line6.mp3" Class="System">
            <OnFinish>
                <ActionSet>
                    <Pause/>
                    <SetLight Light="Green" Mode="Off"/>
                </ActionSet>
            </OnFinish>
        </File>
        
        <File ID="ping7" Href="audio/dagaare-poem/line7.mp3" Class="System">
            <OnFinish>
                <ActionSet>
                    <Pause/>
                    <SetLight Light="Green" Mode="Off"/>
                    <Goto>
                        <Location Ref="system:/dagaare-poem"/>
                    </Goto>
                </ActionSet>
            </OnFinish>
            <OnButton Button="Down" Action="Release">  <!-- this overrides the Package-level action to go forward one container, since these are temporarily all in one package -->
                <ActionSet>
                    <Goto>
                        <Location Target="End"/>
                    </Goto>
                </ActionSet>
            </OnButton>
        </File>
        
        <File ID="dagaare-poem-defn" Href="audio/dagaare-poem/ping-defn-kpankpari.mp3" Class="System">
            <OnFinish>
                <ActionSet>
                    <Pause/>
                    <SetLight Light="Green" Mode="Off"/>
                    <Goto>
                        <PopStack/>
                    </Goto>
                </ActionSet>
            </OnFinish>
            <OnButton Button="Down" Action="Release">  <!-- this overrides the Package-level action to go forward since this is a hyperlinked file without a peer -->
                <ActionSet>
                    <Goto>
                        <Location Target="End"/>
                    </Goto>
                </ActionSet>
            </OnButton>
        </File>
        
        <File ID="chapuri-story" Href="audio/chapuri-story/msg.mp3" Class="System">
            <OnButton Button="Up" Action="Release">  <!-- this overrides the Package-level action to go back one container, since these are temporarily all in one package -->
                <ActionSet>
                    <Goto>
                        <Location Target="Beginning"/>
                    </Goto>
                </ActionSet>
            </OnButton>
            <OnFinish>
                <ActionSet>
                    <Pause/>
                    <SetLight Light="Green" Mode="Off"/>
                    <Goto>
                        <Location Ref="system:/chapuri-story" Target="Beginning"/>
                    </Goto>
                </ActionSet>
            </OnFinish>
            <OnButton Button="Down" Action="Release">  <!-- this overrides the Package-level action to go forward one container, since these are temporarily all in one package -->
                <ActionSet>
                    <Goto>
                        <Location Target="End"/>
                    </Goto>
                </ActionSet>
            </OnButton>
        </File>
        
        <File ID="farming" Href="audio/farming/msg.mp3" Class="System">
            <OnButton Button="Up" Action="Release">  <!-- this overrides the Package-level action to go back one container, since these are temporarily all in one package -->
                <ActionSet>
                    <Goto>
                        <Location Target="Beginning"/>
                    </Goto>
                </ActionSet>
            </OnButton>
            <OnFinish>
                <ActionSet>
                    <Pause/>
                    <SetLight Light="Green" Mode="Off"/>
                    <Goto>
                        <Location Ref="system:/farming" Target="Beginning"/>
                    </Goto>
                </ActionSet>
            </OnFinish>
            <OnButton Button="Down" Action="Release">  <!-- this overrides the Package-level action to go forward one container, since these are temporarily all in one package -->
                <ActionSet>
                    <Goto>
                        <Location Target="End"/>
                    </Goto>
                </ActionSet>
            </OnButton>
        </File>
        
        
        <File ID="gender" Href="audio/gender/msg.mp3" Class="System">
            <OnButton Button="Up" Action="Release">  <!-- this overrides the Package-level action to go back one container, since these are temporarily all in one package -->
                <ActionSet>
                    <Goto>
                        <Location Target="Beginning"/>
                    </Goto>
                </ActionSet>
            </OnButton>
            <OnFinish>
                <ActionSet>
                    <Pause/>
                    <SetLight Light="Green" Mode="Off"/>
                    <Goto>
                        <Location Ref="system:/gender" Target="Beginning"/>
                    </Goto>
                </ActionSet>
            </OnFinish>
            <OnButton Button="Down" Action="Release">  <!-- this overrides the Package-level action to go forward one container, since these are temporarily all in one package -->
                <ActionSet>
                    <Goto>
                        <Location Target="End"/>
                    </Goto>
                </ActionSet>
            </OnButton>
        </File>
        
        <File ID="health-center-needs" Href="audio/health-center-needs/msg.mp3" Class="System">
            <OnButton Button="Up" Action="Release">  <!-- this overrides the Package-level action to go back one container, since these are temporarily all in one package -->
                <ActionSet>
                    <Goto>
                        <Location Target="Beginning"/>
                    </Goto>
                </ActionSet>
            </OnButton>
            <OnFinish>
                <ActionSet>
                    <Pause/>
                    <SetLight Light="Green" Mode="Off"/>
                    <Goto>
                        <Location Ref="system:/health-center-needs" Target="Beginning"/>
                    </Goto>
                </ActionSet>
            </OnFinish>
            <OnButton Button="Down" Action="Release">  <!-- this overrides the Package-level action to go forward one container, since these are temporarily all in one package -->
                <ActionSet>
                    <Goto>
                        <Location Target="End"/>
                    </Goto>
                </ActionSet>
            </OnButton>
        </File>
        
        
        <File ID="hiv-sdi" Href="audio/hiv-sdi/msg.mp3" Class="System">
            <OnButton Button="Up" Action="Release">  <!-- this overrides the Package-level action to go back one container, since these are temporarily all in one package -->
                <ActionSet>
                    <Goto>
                        <Location Target="Beginning"/>
                    </Goto>
                </ActionSet>
            </OnButton>
            <OnFinish>
                <ActionSet>
                    <Pause/>
                    <SetLight Light="Green" Mode="Off"/>
                    <Goto>
                        <Location Ref="system:/hiv-sdi" Target="Beginning"/>
                    </Goto>
                </ActionSet>
            </OnFinish>
            <OnButton Button="Down" Action="Release">  <!-- this overrides the Package-level action to go forward one container, since these are temporarily all in one package -->
                <ActionSet>
                    <Goto>
                        <Location Target="End"/>
                    </Goto>
                </ActionSet>
            </OnButton>
        </File>        
 
 
        <File ID="malaria" Href="audio/malaria/msg.mp3" Class="System">
            <OnButton Button="Up" Action="Release">  <!-- this overrides the Package-level action to go back one container, since these are temporarily all in one package -->
                <ActionSet>
                    <Goto>
                        <Location Target="Beginning"/>
                    </Goto>
                </ActionSet>
            </OnButton>
            <OnFinish>
                <ActionSet>
                    <Pause/>
                    <SetLight Light="Green" Mode="Off"/>
                    <Goto>
                        <Location Ref="system:/malaria" Target="Beginning"/>
                    </Goto>
                </ActionSet>
            </OnFinish>
            <OnButton Button="Down" Action="Release">  <!-- this overrides the Package-level action to go forward one container, since these are temporarily all in one package -->
                <ActionSet>
                    <Goto>
                        <Location Target="End"/>
                    </Goto>
                </ActionSet>
            </OnButton>
        </File>        
        
    
    </Package>
    
</Device>

